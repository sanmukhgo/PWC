<!DOCTYPE html>
<html>
<head>
    <title>Pick Weights Calibrator</title>
    <script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
</script>
</head>
<style>
    body,html{
        height: 100%;
        width: 100%;
        margin: 0;
    }

    .heading{
        text-align: center;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        font-size: 160%;
        padding: 8px;
        width: 100%;
        font-weight: bold;
        color: whitesmoke;
        position: relative;
        background-color:#3D0099;
        box-shadow: 0px 3px 6px #757373;
    }

    .enable{
        margin-left: 2em; 
        font-family: Arial, Helvetica, sans-serif;
    }

    .parameter{
        font-family: 'Courier New', Courier, monospace;
        font-size: 120%;
        color: rgb(90, 33, 143);
        /*font-weight: bold;*/
    }

    .equation{
        font-size: 170%;
    }

    .weight{
        font-weight: bold;
        font-size: 120%;
    }

    .container{
        width: 100%;
        height: 93%;
    }

    .leftpane{
        width: 29.8%;
        height: 100%;
        float: left;
        position: relative;
    }

    .inleft{
        width: 100%;
        height: 18%;
        padding-top: 6px;
        padding-left: 6px;
        background-color: #ece9e9;
        box-shadow: 1px 1px 3px #888888;
        margin-left: 10px;
    }
    
    .inleft:hover{
        -webkit-box-shadow:inset 0px 0px 0px 3px black;
        -moz-box-shadow:inset 0px 0px 0px 3px black;
        box-shadow: inset 0px 0px 0px 3px blueviolet;
    }

    .rightpane{
        width: 67%;
        height: 100%;
        position: relative;
        float: right;
        background-color: lightskyblue;
        border-collapse: collapse;
    }

    .switch {
        position: relative;
        display: inline-block;
        width: 40px;
        height: 18px;
    }

    .switch input { 
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 12px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }

    input:checked + .slider {
       background-color: #2196F3;
    }

    input:focus + .slider {
      box-shadow: 0 0 2px #2196F3;
    }

    input:checked + .slider:before {
        -webkit-transform: translateX(15px);
        -ms-transform: translateX(15px);
        transform: translateX(15px);
    }

    .button {
        background-color: #2196F3;
        border: none;
        color: white;
        padding: 5px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 2px 1px;
        cursor: pointer;
    }

    input[type=number] {
        text-align: center;
        width: 20%;
        padding: 4px 5px;
        margin: 2px 0;
        box-sizing: border-box;
        border: 1.5px solid #ccc;
        -webkit-transition: 0.3s;
        transition: 0.3s;
        outline: none;
    }

    input[type=number]:focus {
        border: 3px solid #555;
    }

    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button { 
        -webkit-appearance: none; 
        margin: 0; 
    }

</style>
<body>
    <div class="heading">
        Pick Weights Calibrator
    </div>
    <div class="container">
        <div class="leftpane">

            <div class="inleft" style="margin-top:16px">
                <form id="form1" class="form">
                    <label>
                        <span class="parameter">
                            Pick before time
                        </span>   
                        <span class="equation">
                            : \(y = \frac{w_1}{1+t}\)
                        </span>
                    </label>
                    <br><br>
                    <label class="weight" for="w1" >
                        W<sub>1</sub> =
                    </label>
                    <input type="number" id="w1" value="1" />
                    <input type="submit" value="Update" class="button" />
                    <span class="enable">Enable :</span>
                    <label class="switch">
                        <input type="checkbox" id="e1" onclick="draw()" checked/>
                        <span class="slider"></span>
                    </label>
                </form>
            </div>
            <br>
            <div class="inleft">
                <form id="form2" class="form">
                    <label>
                        <span class="parameter">
                            Rack fulfillability
                        </span>
                        <span class="equation">
                            : \(y = {w_2x}\)
                        </span>
                    </label>
                    <br>
                    <span class="parameter" style="font-size: 90%;font-style: italic;color: brown; ">
                        x=%fulfillability
                    </span>
                    <br><br>
                    <label class ="weight" for="w2" >
                        W<sub>2</sub> =
                    </label>
                    <input type="number" id="w2" value="2" />
                    <input type="submit" value="Update" class="button" />
                    <span class="enable">Enable :</span>
                    <label class="switch">
                        <input type="checkbox" id="e2" onclick="draw()" checked/>
                        <span class="slider"></span>
                    </label>
                </form>
            </div>
            <br>
            <div class="inleft">
                <form id="form3" class="form">
                    <label>
                        <span class="parameter">
                            Client Priority
                        </span>
                        <span class="equation">
                            : \(y = \frac{100-x}{100}w_3\)
                        </span>
                    </label>
                    <br><br>
                    <label class ="weight" for="w3" >
                        W<sub>3</sub> =
                    </label>
                    <input type="number" id="w3" value="3" />
                    <input type="submit" value="Update" class="button" />
                    <span class="enable">Enable :</span>
                    <label class="switch">
                        <input type="checkbox" id="e3" onclick="draw()" checked/>
                        <span class="slider"></span>
                    </label>
                </form>
            </div>
            <br>
            <div class="inleft">
                <form id="form4" class="form">
                    <label>
                        <span class="parameter">
                            Distance
                        </span>
                        <span class="equation">
                            : \(y = w_4x\)
                        </span>
                    </label>
                    <br><br>
                    <label class ="weight" for="w4" >
                        W<sub>4</sub> =
                    </label>
                    <input type="number" id="w4" value="4" />
                    <input type="submit" value="Update" class="button" />
                    <span class="enable">Enable :</span>
                    <label class="switch">
                        <input type="checkbox" id="e4" onclick="draw()" checked/>
                        <span class="slider"></span>
                    </label>
                </form>
            </div>
            <br>
            <div class="inleft">
                <form id="form5" class="form">
                    <label>
                        <span class="parameter">
                            No. of Racks
                        </span>
                        <span class="equation">
                            : \(y = w_5x\)
                        </span>
                    </label>
                    <br><br>
                    <label class ="weight" for="w5" >
                        W<sub>5</sub> =
                    </label>
                    <input type="number" id="w5" value="5" />
                    <input type="submit" value="Update" class="button" />
                    <span class="enable">Enable :</span>
                    <label class="switch">
                        <input type="checkbox" id="e5" onclick="draw()" checked/>
                        <span class="slider"></span>
                    </label>
                </form>
            </div>
        </div>
        <br>
        <div class="rightpane" id="plot"></div>
    </div>

    <script>
        function draw(){
            function fw1(w,x){
                return w/(1+x)
            }
            function fw2(w,x){
                return w*x
            }
            function fw3(w,x){
                return ((100-x)*w)/100
            }
            function fw4(w,x){
                return w*x
            }
            function fw5(w,x){
                return w*x
            }

            function draw(data){
                Plotly.newPlot('plot', data)
            }

            const min=-10
            const max=15
            const step=0.01
            const pts=parseInt((max-min)/step)

            w1=parseFloat(document.getElementById("w1").value)
            w2=parseFloat(document.getElementById("w2").value)
            w3=parseFloat(document.getElementById("w3").value)
            w4=parseFloat(document.getElementById("w4").value)
            w5=parseFloat(document.getElementById("w5").value)

            e1=document.getElementById("e1").checked;
            e2=document.getElementById("e2").checked;
            e3=document.getElementById("e3").checked;
            e4=document.getElementById("e4").checked;
            e5=document.getElementById("e5").checked;

            xVal=[]
            xVal1=[]
            for(i=0;i<=pts;i++){
                xVal[i]=min+step*i;
            }
            for(i=0,j=0;i<=pts;i++){
                if((-10+0.2*i)!=-1){
                    xVal1[j]=min+step*i;
                    j++;
                }
            }

            yVal1=[]
            yVal2=[]
            yVal3=[]
            yVal4=[]
            yVal5=[]
            for(i=0;i<pts;i++){
                yVal1[i]=fw1(w1,xVal1[i])
            }
            for(i=0;i<=pts;i++){
                yVal2[i]=fw2(w2,xVal[i])
            }
            for(i=0;i<=pts;i++){
                yVal3[i]=fw3(w3,xVal[i])
            }
            for(i=0;i<=pts;i++){
                yVal4[i]=fw4(w4,xVal[i])
            }
            for(i=0;i<=pts;i++){
                yVal5[i]=fw5(w5,xVal[i])
            }
            
            trace1 = {
                x: xVal1,
                y: yVal1,
                type: 'scatter',
                name: "Pick before Time",
                line: {
                    color: 'rgb(0, 128, 255)',
                    width: 2
                }
            }
            trace2 = {
                x: xVal,
                y: yVal2,
                type: 'scatter',
                name: "Rack Fulfillability",
                line: {
                    color: 'rgb(255, 102, 51)',
                    width: 2
                }
            }
            trace3 = {
                x: xVal,
                y: yVal3,
                type: 'scatter',
                name: "Client Priority",
                line: {
                    color: 'rgb(51, 204, 51)',
                    width: 2
                }
            }
            trace4 = {
                x: xVal,
                y: yVal4,
                type: 'scatter',
                name: "Distance",
                line: {
                    color: 'rgb(204, 41, 0)',
                    width: 2
                }
            }
            trace5 = {
                x: xVal,
                y: yVal5,
                type: 'scatter',
                name: "No. of Rack",
                line: {
                    color: 'rgb(153, 0, 153)',
                    width: 2
                }
            }
            trace=[]
            if(e1)
                trace.push(trace1);
            if(e2)
                trace.push(trace2);
            if(e3)
                trace.push(trace3);
            if(e4)
                trace.push(trace4);
            if(e5)
                trace.push(trace5);

            data = trace;

            Plotly.newPlot('plot',data);
        }

        document.getElementById('form1').onsubmit = function(event) {
            event.preventDefault();
            draw();
        }
        document.getElementById('form2').onsubmit = function(event) {
            event.preventDefault();
            draw();
        }
        document.getElementById('form3').onsubmit = function(event) {
            event.preventDefault();
            draw();
        }
        document.getElementById('form4').onsubmit = function(event) {
            event.preventDefault();
            draw();
        }
        document.getElementById('form5').onsubmit = function(event) {
            event.preventDefault();
            draw();
        }
        draw()
              
    </script>
</body>
</html>
